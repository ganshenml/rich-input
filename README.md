# RichInput æ™ºèƒ½è¾“å…¥ç»„ä»¶

ä¸€ä¸ªåŸºäº Vue 3 çš„æ™ºèƒ½å¯Œæ–‡æœ¬è¾“å…¥ç»„ä»¶ï¼Œæ”¯æŒæ¨¡æ¿åŒ–è¾“å…¥ã€åŠ¨æ€å­—æ®µç¼–è¾‘å’Œä¸‹æ‹‰é€‰æ‹©åŠŸèƒ½ã€‚

## ğŸš€ ç»„ä»¶æ¦‚è¿°

### ç»„ä»¶æ•ˆæœé¢„è§ˆ

![RichInput ç»„ä»¶æ•ˆæœ](./public/images/rich-input-demo.png)

### ä¸»è¦åŠŸèƒ½

RichInput æ˜¯ä¸€ä¸ªé«˜åº¦å¯é…ç½®çš„æ™ºèƒ½è¾“å…¥ç»„ä»¶ï¼Œä¸“ä¸ºéœ€è¦ç»“æ„åŒ–è¾“å…¥çš„åœºæ™¯è®¾è®¡ã€‚å®ƒå°†ä¼ ç»Ÿçš„è¡¨å•è¾“å…¥è½¬æ¢ä¸ºæ›´ç›´è§‚çš„æ¨¡æ¿åŒ–ç¼–è¾‘ä½“éªŒã€‚

### é€‚ç”¨åœºæ™¯

- **å†…å®¹æ¨¡æ¿ç¼–è¾‘**ï¼šå¦‚é‚®ä»¶æ¨¡æ¿ã€æ–‡æ¡£æ¨¡æ¿ã€æ¶ˆæ¯æ¨¡æ¿ç­‰
- **ç»“æ„åŒ–æ•°æ®è¾“å…¥**ï¼šéœ€è¦æŒ‰ç‰¹å®šæ ¼å¼è¾“å…¥æ•°æ®çš„è¡¨å•
- **æ™ºèƒ½æç¤ºè¾“å…¥**ï¼šéœ€è¦æä¾›é¢„è®¾é€‰é¡¹çš„è¾“å…¥åœºæ™¯
- **åŠ¨æ€è¡¨å•æ„å»º**ï¼šæ ¹æ®é…ç½®åŠ¨æ€ç”Ÿæˆçš„è¡¨å•å­—æ®µ

### å…³é”®ç‰¹æ€§

- âœ¨ **æ¨¡æ¿åŒ–è¾“å…¥**ï¼šæ”¯æŒ `{fieldName}` å ä½ç¬¦è¯­æ³•
- ğŸ¯ **åŒå­—æ®µç±»å‹**ï¼šæ”¯æŒè‡ªç”±è¾“å…¥ï¼ˆinputï¼‰å’Œä¸‹æ‹‰é€‰æ‹©ï¼ˆselectï¼‰
- ğŸ¨ **å¯è§†åŒ–ç¼–è¾‘**ï¼šé«˜äº®æ˜¾ç¤ºå¯ç¼–è¾‘åŒºåŸŸï¼Œç›´è§‚çš„ç”¨æˆ·ä½“éªŒ
- ğŸ“± **å“åº”å¼è®¾è®¡**ï¼šè‡ªé€‚åº”å¸ƒå±€ï¼Œæ”¯æŒç§»åŠ¨ç«¯
- ğŸ”§ **é«˜åº¦å¯é…ç½®**ï¼šçµæ´»çš„é…ç½®é€‰é¡¹ï¼Œæ»¡è¶³ä¸åŒä¸šåŠ¡éœ€æ±‚
- ğŸª **æ™ºèƒ½å®šä½**ï¼šä¸‹æ‹‰èœå•è‡ªåŠ¨è¾¹ç•Œæ£€æµ‹å’Œä½ç½®è°ƒæ•´
- ğŸ–±ï¸ **äº¤äº’å‹å¥½**ï¼šæ”¯æŒç‚¹å‡»å¤–éƒ¨åŒºåŸŸè‡ªåŠ¨éšè—ä¸‹æ‹‰èœå•

## ğŸ“¦ å®‰è£…æŒ‡å—

### ç¯å¢ƒè¦æ±‚

- **Node.js**: >= 16.0.0
- **Vue**: >= 3.4.0
- **TypeScript**: >= 5.0.0 (å¯é€‰ï¼Œä½†æ¨è)

### å®‰è£…ä¾èµ–

```bash
# ä½¿ç”¨ npm
npm install vue@^3.4.15

# ä½¿ç”¨ yarn
yarn add vue@^3.4.15

# ä½¿ç”¨ pnpm
pnpm add vue@^3.4.15
```

### é¡¹ç›®ä¾èµ–

ç»„ä»¶ä¾èµ–ä»¥ä¸‹æ ¸å¿ƒåŒ…ï¼š

```json
{
  "vue": "^3.4.15",
  "typescript": "~5.3.3"
}
```

## ğŸ“– ä½¿ç”¨è¯´æ˜

### åŸºç¡€ç”¨æ³•

```vue
<template>
  <div>
    <RichInput :config="inputConfig" />
  </div>
</template>

<script setup lang="ts">
import RichInput from './components/RichInput.vue'
import type { RichInputConfig } from './components/RichInput.vue'

// åŸºç¡€é…ç½®ç¤ºä¾‹
const inputConfig: RichInputConfig = {
  template: "æˆ‘æ˜¯ä¸€å{role}éœ€è¦å†™ä¸€ç¯‡å…³äº{topic}çš„{format}ã€‚é¢å‘{audience}å®£ä¼ äº§å“ã€‚",
  fields: {
    role: { 
      type: 'input', 
      placeholder: 'å…¬ä¼—å·åšä¸»', 
      defaultValue: 'å…¬ä¼—å·åšä¸»' 
    },
    topic: { 
      type: 'select', 
      options: ['ç§‘æŠ€', 'æ•™è‚²', 'å¥åº·'], 
      defaultValue: '[ä¸»é¢˜]' 
    },
    format: { 
      type: 'select', 
      options: ['æ–‡ç« ', 'æŠ¥å‘Š', 'è®ºæ–‡'], 
      defaultValue: 'æ–‡ç« ' 
    },
    audience: { 
      type: 'input', 
      placeholder: '[äººç¾¤]', 
      defaultValue: '' 
    }
  }
}
</script>
```

### é«˜çº§ç”¨æ³•

```vue
<template>
  <div>
    <!-- è‡ªå®šä¹‰é…ç½® -->
    <RichInput :config="customConfig" />
    
    <!-- é‚®ä»¶æ¨¡æ¿ç¤ºä¾‹ -->
    <RichInput :config="emailConfig" />
  </div>
</template>

<script setup lang="ts">
// è‡ªå®šä¹‰ä¸šåŠ¡åœºæ™¯é…ç½®
const customConfig = {
  template: "å°Šæ•¬çš„{customerName}ï¼Œæ‚¨çš„{orderType}è®¢å•å·²{status}ï¼Œé¢„è®¡{deliveryTime}é€è¾¾ã€‚",
  fields: {
    customerName: {
      type: 'input',
      placeholder: 'å®¢æˆ·å§“å',
      defaultValue: ''
    },
    orderType: {
      type: 'select',
      options: ['æ™®é€šè®¢å•', 'åŠ æ€¥è®¢å•', 'é¢„å”®è®¢å•'],
      defaultValue: 'æ™®é€šè®¢å•'
    },
    status: {
      type: 'select',
      options: ['å·²ç¡®è®¤', 'å·²å‘è´§', 'é…é€ä¸­'],
      defaultValue: 'å·²ç¡®è®¤'
    },
    deliveryTime: {
      type: 'input',
      placeholder: 'é€è¾¾æ—¶é—´',
      defaultValue: '2-3ä¸ªå·¥ä½œæ—¥'
    }
  }
}

// é‚®ä»¶æ¨¡æ¿é…ç½®
const emailConfig = {
  template: "Hi {name}, welcome to {platform}! Your {accountType} account is ready.",
  fields: {
    name: {
      type: 'input',
      placeholder: 'User Name',
      defaultValue: ''
    },
    platform: {
      type: 'input',
      placeholder: 'Platform Name',
      defaultValue: 'Our Platform'
    },
    accountType: {
      type: 'select',
      options: ['Basic', 'Premium', 'Enterprise'],
      defaultValue: 'Basic'
    }
  }
}
</script>
```

### é…ç½®å‚æ•°è¯´æ˜

#### RichInputConfig æ¥å£

```typescript
interface RichInputConfig {
  template: string                    // æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ {fieldName} ä½œä¸ºå ä½ç¬¦
  fields: Record<string, Field>       // å­—æ®µé…ç½®æ˜ å°„
}
```

#### Field ç±»å‹å®šä¹‰

```typescript
// è¾“å…¥å­—æ®µ
interface InputField {
  type: 'input'
  placeholder: string    // å ä½ç¬¦æ–‡æœ¬
  defaultValue: string   // é»˜è®¤å€¼
}

// é€‰æ‹©å­—æ®µ
interface SelectField {
  type: 'select'
  options: string[]      // å¯é€‰é¡¹åˆ—è¡¨
  defaultValue: string   // é»˜è®¤é€‰ä¸­å€¼
}

type Field = InputField | SelectField
```

#### å‚æ•°è¯¦è§£

| å‚æ•° | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|------|--------|------|
| `config.template` | `string` | æ˜¯ | - | æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ `{fieldName}` å®šä¹‰å¯ç¼–è¾‘åŒºåŸŸ |
| `config.fields` | `Record<string, Field>` | æ˜¯ | - | å­—æ®µé…ç½®å¯¹è±¡ï¼Œkey å¯¹åº”æ¨¡æ¿ä¸­çš„å ä½ç¬¦åç§° |
| `field.type` | `'input' \| 'select'` | æ˜¯ | - | å­—æ®µç±»å‹ï¼šinput ä¸ºæ–‡æœ¬è¾“å…¥ï¼Œselect ä¸ºä¸‹æ‹‰é€‰æ‹© |
| `field.placeholder` | `string` | æ˜¯ | - | å ä½ç¬¦æ–‡æœ¬ï¼ˆinput ç±»å‹ï¼‰|
| `field.options` | `string[]` | æ˜¯* | - | å¯é€‰é¡¹åˆ—è¡¨ï¼ˆselect ç±»å‹å¿…å¡«ï¼‰|
| `field.defaultValue` | `string` | å¦ | `''` | å­—æ®µé»˜è®¤å€¼ |

## âš ï¸ æ³¨æ„äº‹é¡¹

### ä½¿ç”¨é™åˆ¶

1. **å ä½ç¬¦å‘½å**ï¼šæ¨¡æ¿ä¸­çš„å ä½ç¬¦åç§°å¿…é¡»ä¸ `fields` é…ç½®ä¸­çš„ key å®Œå…¨åŒ¹é…
2. **å­—æ®µç±»å‹**ï¼šæ¯ä¸ªå­—æ®µå¿…é¡»æ˜ç¡®æŒ‡å®š `type` ä¸º `'input'` æˆ– `'select'`
3. **é€‰æ‹©å­—æ®µ**ï¼š`select` ç±»å‹å­—æ®µå¿…é¡»æä¾› `options` æ•°ç»„
4. **æ¨¡æ¿æ ¼å¼**ï¼šå ä½ç¬¦å¿…é¡»ä½¿ç”¨ `{fieldName}` æ ¼å¼ï¼Œä¸æ”¯æŒåµŒå¥—æˆ–å¤æ‚è¡¨è¾¾å¼

### å¸¸è§é—®é¢˜è§£å†³

#### Q: ä¸‹æ‹‰èœå•ä¸æ˜¾ç¤ºï¼Ÿ
**A**: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
- ç¡®ä¿å­—æ®µé…ç½®ä¸­ `type: 'select'`
- ç¡®ä¿æä¾›äº† `options` æ•°ç»„ä¸”ä¸ä¸ºç©º
- æ£€æŸ¥æ¨¡æ¿ä¸­å ä½ç¬¦åç§°æ˜¯å¦ä¸å­—æ®µ key åŒ¹é…

#### Q: è¾“å…¥æ¡†æ— æ³•ç¼–è¾‘ï¼Ÿ
**A**: å¯èƒ½çš„åŸå› ï¼š
- å­—æ®µç±»å‹è®¾ç½®ä¸º `'select'` è€Œé `'input'`
- æµè§ˆå™¨ç¦ç”¨äº† `contenteditable` åŠŸèƒ½
- CSS æ ·å¼å†²çªå¯¼è‡´å…ƒç´ ä¸å¯ç‚¹å‡»

#### Q: æ ·å¼æ˜¾ç¤ºå¼‚å¸¸ï¼Ÿ
**A**: è§£å†³æ–¹æ¡ˆï¼š
- ç¡®ä¿ç»„ä»¶çš„ scoped æ ·å¼ä¸ä¸å…¨å±€æ ·å¼å†²çª
- æ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»– CSS æ¡†æ¶å½±å“ç»„ä»¶æ ·å¼
- å¯ä»¥é€šè¿‡è‡ªå®šä¹‰ CSS å˜é‡è¦†ç›–é»˜è®¤æ ·å¼

#### Q: åœ¨ç§»åŠ¨ç«¯ä½“éªŒä¸ä½³ï¼Ÿ
**A**: ä¼˜åŒ–å»ºè®®ï¼š
- å¢åŠ è§¦æ‘¸åŒºåŸŸå¤§å°ï¼ˆè°ƒæ•´ paddingï¼‰
- é€‚é…ç§»åŠ¨ç«¯çš„å­—ä½“å¤§å°
- è€ƒè™‘ä½¿ç”¨åŸç”Ÿ select å…ƒç´ æ›¿ä»£è‡ªå®šä¹‰ä¸‹æ‹‰èœå•

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **å¤§é‡é€‰é¡¹**ï¼šå½“ select å­—æ®µé€‰é¡¹è¶…è¿‡ 100 ä¸ªæ—¶ï¼Œå»ºè®®å®ç°è™šæ‹Ÿæ»šåŠ¨
2. **å¤æ‚æ¨¡æ¿**ï¼šé¿å…åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨è¿‡å¤šå­—æ®µï¼ˆå»ºè®®ä¸è¶…è¿‡ 20 ä¸ªï¼‰
3. **é¢‘ç¹æ›´æ–°**ï¼šå¦‚éœ€é¢‘ç¹æ›´æ–°é…ç½®ï¼Œè€ƒè™‘ä½¿ç”¨ `shallowRef` ä¼˜åŒ–æ€§èƒ½

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å‚ä¸æ”¹è¿›

æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºè´¡çŒ®ï¼ä»¥ä¸‹æ˜¯å‚ä¸é¡¹ç›®çš„æ–¹å¼ï¼š

#### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd rich-input

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# è¿è¡Œç±»å‹æ£€æŸ¥
npm run check

# è¿è¡Œä»£ç æ£€æŸ¥
npm run lint
```

#### è´¡çŒ®æµç¨‹

1. **Fork é¡¹ç›®**åˆ°ä½ çš„ GitHub è´¦æˆ·
2. **åˆ›å»ºç‰¹æ€§åˆ†æ”¯**ï¼š`git checkout -b feature/amazing-feature`
3. **æäº¤æ›´æ”¹**ï¼š`git commit -m 'Add some amazing feature'`
4. **æ¨é€åˆ†æ”¯**ï¼š`git push origin feature/amazing-feature`
5. **åˆ›å»º Pull Request**

#### ä»£ç è§„èŒƒ

- éµå¾ª ESLint é…ç½®è§„åˆ™
- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹å®šä¹‰
- æ·»åŠ é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£
- ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡

### é—®é¢˜åé¦ˆ

#### æŠ¥å‘Š Bug

åœ¨æäº¤ Bug æŠ¥å‘Šæ—¶ï¼Œè¯·åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š

- **ç¯å¢ƒä¿¡æ¯**ï¼šNode.js ç‰ˆæœ¬ã€Vue ç‰ˆæœ¬ã€æµè§ˆå™¨ç‰ˆæœ¬
- **é‡ç°æ­¥éª¤**ï¼šè¯¦ç»†çš„æ“ä½œæ­¥éª¤
- **æœŸæœ›è¡Œä¸º**ï¼šä½ æœŸæœ›å‘ç”Ÿä»€ä¹ˆ
- **å®é™…è¡Œä¸º**ï¼šå®é™…å‘ç”Ÿäº†ä»€ä¹ˆ
- **ç›¸å…³ä»£ç **ï¼šæœ€å°åŒ–çš„é‡ç°ä»£ç 

#### åŠŸèƒ½è¯·æ±‚

æäº¤åŠŸèƒ½è¯·æ±‚æ—¶ï¼Œè¯·è¯´æ˜ï¼š

- **ä½¿ç”¨åœºæ™¯**ï¼šä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªåŠŸèƒ½
- **æœŸæœ›è¡Œä¸º**ï¼šåŠŸèƒ½åº”è¯¥å¦‚ä½•å·¥ä½œ
- **æ›¿ä»£æ–¹æ¡ˆ**ï¼šæ˜¯å¦è€ƒè™‘è¿‡å…¶ä»–è§£å†³æ–¹æ¡ˆ

#### è”ç³»æ–¹å¼

- **GitHub Issues**ï¼š[é¡¹ç›® Issues é¡µé¢]
- **è®¨è®ºåŒº**ï¼š[GitHub Discussions]
- **é‚®ä»¶**ï¼š[ç»´æŠ¤è€…é‚®ç®±]

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦æƒ…è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç”¨æˆ·ï¼

---

**Happy Coding! ğŸ‰**